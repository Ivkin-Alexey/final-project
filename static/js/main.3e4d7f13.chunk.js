(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{208:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(23),a=n(46),o=n(120),s=n(56),u=n(18),l=n(54),j=n.n(l),p=n(66),h="FETCH_POKEMONS",d="SET_CARD_ID",b="SET_NEXT_PAGE_URL",O="TOGGLE_FETCHING",m="CATCH_POKEMON",f="RELEASE_POKEMON";function g(e){var t=(new Date).toUTCString();return{type:m,id:e,date:t}}function x(e){return{type:f,id:e}}var y=n(8);var v=function(e){var t,n=Object(u.b)();return Object(y.jsx)(a.b,{to:"/info",onClick:function(){return n((t=e.id,{type:d,id:t}));var t},children:Object(y.jsxs)(o.a,{hoverable:!0,style:{width:240,minHeight:"357px"},cover:Object(y.jsx)("img",{alt:"pokemon",src:e.imgURL}),children:[Object(y.jsx)("h4",{children:"ID ".concat(e.id,", ").concat((t=e.name,t.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")))}),Object(y.jsx)("p",{children:e.date?"Was caught on ".concat(e.date):""}),e.isCaught?Object(y.jsx)(s.a,{type:"dashed",onClick:function(t){t.preventDefault(),n(x(e.id))},children:"Release"}):Object(y.jsx)(s.a,{type:"primary",onClick:function(t){t.preventDefault(),n(g(e.id))},children:"Catch!"})]})})},k=(n(102),n(123));var C=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.pokemons.pokemons})),n=Object(u.c)((function(e){return e.app.fetching})),i=Object(u.c)((function(e){return e.app.url}));return Object(c.useEffect)((function(){n&&(e(function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch(e).then((function(e){return e.json()})).then((function(e){var t=e.results.map((function(e){return fetch(e.url).then((function(e){return e.json()})).then((function(t){return{name:(n=t.name,n.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")),url:e.url,imgURL:t.sprites.other["official-artwork"].front_default,types:t.types.map((function(e){return e.type.name})).join(", "),abilities:t.abilities.map((function(e){return e.ability.name})).join(", "),weight:t.weight,isCaught:!1};var n}))}));Promise.all(t).then((function(t){n({type:h,payload:t}),n({type:b,url:e.next})}))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(i)),console.log(t))}),[n,e,i]),Object(c.useEffect)((function(){var n=function(n){n.target.documentElement.scrollHeight-(n.target.documentElement.scrollTop+window.innerHeight)<100&&t.length<1118&&e({type:O})};return document.addEventListener("scroll",n),function(){document.removeEventListener("scroll",n)}}),[e,t.length]),Object(y.jsx)(k.b,{style:{marginTop:"64px",marginBottom:"64px",display:"flex",justifyContent:"center",alignItems:"center"},size:[50,50],wrap:!0,children:t[0]?t.map((function(e,t){return Object(y.jsx)(v,{name:e.name,imgURL:e.imgURL,isCaught:e.isCaught,date:e.date,id:t+1},t)})):null})};var E=function(){var e=Object(u.c)((function(e){return e.pokemons.pokemons}));return Object(y.jsx)(k.b,{style:{marginTop:"64px",marginBottom:"64px",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},size:[50,50],wrap:!0,children:e.find((function(e){return!0===e.isCaught}))?e.map((function(e,t){return e.isCaught?Object(y.jsx)(v,{id:t+1,name:e.name,url:e.url,imgURL:e.imgURL,types:e.types,abilities:e.abilities,weight:e.weight,isCaught:e.isCaught},t+1):null})):Object(y.jsx)("h4",{children:"You have not caught pokemons yet!"})})},w=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.pokemons.cardID})),n=Object(u.c)((function(e){return e.pokemons.pokemons[t-1]}));return Object(y.jsx)(k.b,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"calc(100vh - 64px)"},size:[50,50],children:Object(y.jsxs)(o.a,{hoverable:!0,style:{height:"730px",width:"475px"},cover:Object(y.jsx)("img",{alt:"pokemon",src:n.imgURL}),children:[Object(y.jsxs)("h4",{children:["ID: ",t,", ",n.name]}),Object(y.jsxs)("p",{children:["Abilities: ",n.abilities]}),Object(y.jsxs)("p",{children:["Types: ",n.types]}),Object(y.jsxs)("p",{children:["Weight: ",n.weight]}),Object(y.jsx)("p",{children:n.isCaught?"Was caught on ".concat(n.date):""}),n.isCaught?Object(y.jsx)(s.a,{type:"dashed",onClick:function(n){n.preventDefault(),e(x(t))},children:"Release"}):Object(y.jsx)(s.a,{type:"primary",onClick:function(n){n.preventDefault(),e(g(t))},children:"Catch!"})]})})},_=n(210),I=n(212),T=n(10),D=_.a.Header,L=_.a.Content;var R=function(){return Object(y.jsxs)(_.a,{style:{backgroundColor:"white"},children:[Object(y.jsx)(D,{style:{position:"fixed",zIndex:"10",width:"100%"},children:Object(y.jsxs)(I.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],children:[Object(y.jsx)(I.a.Item,{children:Object(y.jsx)(a.b,{to:"/",children:"All pokemons"})},"1"),Object(y.jsx)(I.a.Item,{children:Object(y.jsx)(a.b,{to:"/caughtPokemons",children:"Caught pokemons"})},"2")]})}),Object(y.jsx)(L,{style:{marginTop:"64px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(y.jsxs)(T.c,{children:[Object(y.jsx)(T.a,{exact:!0,path:"/",element:Object(y.jsx)(C,{})}),Object(y.jsx)(T.a,{exact:!0,path:"/caughtPokemons",element:Object(y.jsx)(E,{})}),Object(y.jsx)(T.a,{exact:!0,path:"/info",element:Object(y.jsx)(w,{})})]})})]})},U=n(35),S=n(87),N=n(117),A=n.n(N),H=n(118),P=n(119),z=n(16),X=n(1),G={pokemons:[],cardID:null},K={url:"https://pokeapi.co/api/v2/pokemon?limit=12",fetching:!0},M=Object(U.b)({pokemons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(X.a)(Object(X.a)({},e),{},{pokemons:[].concat(Object(z.a)(e.pokemons),Object(z.a)(t.payload))});case d:return Object(X.a)(Object(X.a)({},e),{},{cardID:t.id});case m:return Object(X.a)(Object(X.a)({},e),{},{pokemons:e.pokemons.map((function(e,n){return n+1===t.id?Object.assign({},e,{isCaught:!0,date:t.date}):e}))});case f:return Object(X.a)(Object(X.a)({},e),{},{pokemons:e.pokemons.map((function(e,n){return n+1===t.id?Object.assign({},e,{isCaught:!1,date:t.date}):e}))});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{url:t.url,fetching:!1};case O:return Object(X.a)(Object(X.a)({},e),{},{fetching:!0});default:return e}}}),B={key:"root",storage:A.a},W=Object(S.a)(B,M),F=Object(U.d)(W,Object(U.c)(Object(U.a)(P.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),J=Object(S.b)(F),V=Object(y.jsx)(H.a,{loading:null,persistor:J,children:Object(y.jsx)(u.a,{store:F,children:Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(a.a,{children:Object(y.jsx)(R,{})})})})});Object(r.render)(V,document.getElementById("root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.3e4d7f13.chunk.js.map