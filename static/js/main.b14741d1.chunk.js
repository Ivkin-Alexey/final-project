(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{208:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(23),a=n(46),o=n(120),s=n(56),u=n(20),l=n(54),j=n.n(l),p=n(66),h="FETCH_POKEMONS",b="SET_CARD_ID",d="SET_NEXT_PAGE_URL",O="TOGGLE_FETCHING",m="CATCH_POKEMON",f="RELEASE_POKEMON";function g(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch(e).then((function(e){return e.json()})).then((function(e){var t=e.results.map((function(e){return fetch(e.url).then((function(e){return e.json()})).then((function(t){return{name:(n=t.name,n.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")),url:e.url,imgURL:t.sprites.other["official-artwork"].front_default,types:t.types.map((function(e){return e.type.name})).join(", "),abilities:t.abilities.map((function(e){return e.ability.name})).join(", "),weight:t.weight,isCaught:!1};var n}))}));Promise.all(t).then((function(t){n({type:h,payload:t}),n({type:d,url:e.next})}))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function x(e){var t=(new Date).toUTCString();return{type:m,id:e,date:t}}function y(e){return{type:f,id:e}}var v=n(8);var k=function(e){var t,n=Object(u.b)();return Object(v.jsx)(a.b,{to:"/info/".concat(e.id),children:Object(v.jsxs)(o.a,{hoverable:!0,style:{width:240,minHeight:"357px"},cover:Object(v.jsx)("img",{alt:"pokemon",src:e.imgURL}),children:[Object(v.jsx)("h4",{children:"ID ".concat(e.id,", ").concat((t=e.name,t.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")))}),Object(v.jsx)("p",{children:e.date?"Was caught on ".concat(e.date):""}),e.isCaught?Object(v.jsx)(s.a,{type:"dashed",onClick:function(t){t.preventDefault(),n(y(e.id))},children:"Release"}):Object(v.jsx)(s.a,{type:"primary",onClick:function(t){t.preventDefault(),n(x(e.id))},children:"Catch!"})]})})},C=(n(102),n(123));var E=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.pokemons.pokemons})),n=Object(u.c)((function(e){return e.app.fetching})),i=Object(u.c)((function(e){return e.app.url}));return Object(c.useEffect)((function(){e(g(i))}),[]),Object(c.useEffect)((function(){n&&e(g(i))}),[n,e,i]),Object(c.useEffect)((function(){var n=function(n){n.target.documentElement.scrollHeight-(n.target.documentElement.scrollTop+window.innerHeight)<100&&t.length<1118&&e({type:O})};return document.addEventListener("scroll",n),function(){document.removeEventListener("scroll",n)}}),[e,t.length]),Object(v.jsx)(C.b,{style:{marginTop:"64px",marginBottom:"64px",display:"flex",justifyContent:"center",alignItems:"center"},size:[50,50],wrap:!0,children:t[0]?t.map((function(e,t){return Object(v.jsx)(k,{name:e.name,imgURL:e.imgURL,isCaught:e.isCaught,date:e.date,id:t+1},t)})):null})};var w=function(){var e=Object(u.c)((function(e){return e.pokemons.pokemons}));return Object(v.jsx)(C.b,{style:{marginTop:"64px",marginBottom:"64px",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},size:[50,50],wrap:!0,children:e.find((function(e){return!0===e.isCaught}))?e.map((function(e,t){return e.isCaught?Object(v.jsx)(k,{id:t+1,name:e.name,url:e.url,imgURL:e.imgURL,types:e.types,abilities:e.abilities,weight:e.weight,isCaught:e.isCaught},t+1):null})):Object(v.jsx)("h4",{children:"You have not caught pokemons yet!"})})},_=n(10),T=function(){var e=Object(u.b)(),t=Object(_.g)().id,n=Object(u.c)((function(e){return e.pokemons.pokemons[t-1]}));return Object(v.jsx)(C.b,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"calc(100vh - 64px)"},size:[50,50],children:Object(v.jsxs)(o.a,{hoverable:!0,style:{height:"730px",width:"475px"},cover:Object(v.jsx)("img",{alt:"pokemon",src:n.imgURL}),children:[Object(v.jsxs)("h4",{children:["ID: ",t,", ",n.name]}),Object(v.jsxs)("p",{children:["Abilities: ",n.abilities]}),Object(v.jsxs)("p",{children:["Types: ",n.types]}),Object(v.jsxs)("p",{children:["Weight: ",n.weight]}),Object(v.jsx)("p",{children:n.isCaught?"Was caught on ".concat(n.date):""}),n.isCaught?Object(v.jsx)(s.a,{type:"dashed",onClick:function(n){n.preventDefault(),e(y(t))},children:"Release"}):Object(v.jsx)(s.a,{type:"primary",onClick:function(n){n.preventDefault(),e(x(t))},children:"Catch!"})]})})},I=n(210),D=n(212),L=I.a.Header,R=I.a.Content;var U=function(){return Object(v.jsxs)(I.a,{style:{backgroundColor:"white"},children:[Object(v.jsx)(L,{style:{position:"fixed",zIndex:"10",width:"100%"},children:Object(v.jsxs)(D.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],children:[Object(v.jsx)(D.a.Item,{children:Object(v.jsx)(a.b,{to:"/",children:"All pokemons"})},"1"),Object(v.jsx)(D.a.Item,{children:Object(v.jsx)(a.b,{to:"/caughtPokemons",children:"Caught pokemons"})},"2")]})}),Object(v.jsx)(R,{style:{marginTop:"64px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(v.jsxs)(_.c,{children:[Object(v.jsx)(_.a,{exact:!0,path:"/",element:Object(v.jsx)(E,{})}),Object(v.jsx)(_.a,{exact:!0,path:"/caughtPokemons",element:Object(v.jsx)(w,{})}),Object(v.jsx)(_.a,{exact:!0,path:"/info/:id",element:Object(v.jsx)(T,{})})]})})]})},S=n(35),N=n(87),A=n(117),H=n.n(A),P=n(118),z=n(119),X=n(16),G=n(1),K={pokemons:[],cardID:null},M={url:"https://pokeapi.co/api/v2/pokemon?limit=12",fetching:!0},B=Object(S.b)({pokemons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(G.a)(Object(G.a)({},e),{},{pokemons:[].concat(Object(X.a)(e.pokemons),Object(X.a)(t.payload))});case b:return Object(G.a)(Object(G.a)({},e),{},{cardID:t.id});case m:return Object(G.a)(Object(G.a)({},e),{},{pokemons:e.pokemons.map((function(e,n){return n+1===t.id?Object.assign({},e,{isCaught:!0,date:t.date}):e}))});case f:return Object(G.a)(Object(G.a)({},e),{},{pokemons:e.pokemons.map((function(e,n){return n+1===t.id?Object.assign({},e,{isCaught:!1,date:t.date}):e}))});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{url:t.url,fetching:!1};case O:return Object(G.a)(Object(G.a)({},e),{},{fetching:!0});default:return e}}}),W={key:"root",storage:H.a},F=Object(N.a)(W,B),J=Object(S.d)(F,Object(S.c)(Object(S.a)(z.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),V=Object(N.b)(J),Y=Object(v.jsx)(P.a,{loading:null,persistor:V,children:Object(v.jsx)(u.a,{store:J,children:Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(a.a,{children:Object(v.jsx)(U,{})})})})});Object(r.render)(Y,document.getElementById("root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.b14741d1.chunk.js.map