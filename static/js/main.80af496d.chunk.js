(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{208:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(23),a=n(46),o=n(120),s=n(56),u=n(10),l=n(20),j=n(54),p=n.n(j),h=n(66),d="FETCH_POKEMONS",b="SET_CARD_ID",O="SET_NEXT_PAGE_URL",f="TOGGLE_FETCHING",m="CATCH_POKEMON",g="RELEASE_POKEMON";function x(e){var t=(new Date).toUTCString();return{type:m,id:e,date:t}}function y(e){return{type:g,id:e}}var v=n(8);var k=function(e){var t,n=Object(l.b)(),c=Object(u.f)();return Object(v.jsx)(a.b,{to:"/info/".concat(e.id),onClick:function(){return c("/info/".concat(e.id))},children:Object(v.jsxs)(o.a,{hoverable:!0,style:{width:240,minHeight:"357px"},cover:Object(v.jsx)("img",{alt:"pokemon",src:e.imgURL}),children:[Object(v.jsx)("h4",{children:"ID ".concat(e.id,", ").concat((t=e.name,t.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")))}),Object(v.jsx)("p",{children:e.date?"Was caught on ".concat(e.date):""}),e.isCaught?Object(v.jsx)(s.a,{type:"dashed",onClick:function(t){t.preventDefault(),t.stopPropagation(),n(y(e.id))},children:"Release"}):Object(v.jsx)(s.a,{type:"primary",onClick:function(t){t.preventDefault(),t.stopPropagation(),n(x(e.id))},children:"Catch!"})]})})},C=(n(102),n(123));var E=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.pokemons.pokemons})),n=Object(l.c)((function(e){return e.app.fetching})),i=Object(l.c)((function(e){return e.app.url}));return Object(c.useEffect)((function(){console.log(n,i),n&&e(function(e){return console.log("fetch"),function(){var t=Object(h.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch(e).then((function(e){return e.json()})).then((function(e){var t=e.results.map((function(e){return fetch(e.url).then((function(e){return e.json()})).then((function(t){return{name:(n=t.name,n.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")),url:e.url,imgURL:t.sprites.other["official-artwork"].front_default,types:t.types.map((function(e){return e.type.name})).join(", "),abilities:t.abilities.map((function(e){return e.ability.name})).join(", "),weight:t.weight,isCaught:!1};var n}))}));Promise.all(t).then((function(t){n({type:d,payload:t}),n({type:O,url:e.next})}))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(i))}),[n]),Object(c.useEffect)((function(){var n=function(n){n.target.documentElement.scrollHeight-(n.target.documentElement.scrollTop+window.innerHeight)<100&&t.length<1118&&e({type:f})};return document.addEventListener("scroll",n),function(){document.removeEventListener("scroll",n)}}),[e,t.length]),Object(v.jsx)(C.b,{style:{marginTop:"64px",marginBottom:"64px",display:"flex",justifyContent:"center",alignItems:"center"},size:[50,50],wrap:!0,children:t[0]?t.map((function(e,t){return Object(v.jsx)(k,{name:e.name,imgURL:e.imgURL,isCaught:e.isCaught,date:e.date,id:t+1},t)})):Object(v.jsx)("p",{children:"fdgdfgdfgfdg"})})};var w=function(){var e=Object(l.c)((function(e){return e.pokemons.pokemons}));return Object(v.jsx)(C.b,{style:{marginTop:"64px",marginBottom:"64px",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},size:[50,50],wrap:!0,children:e.find((function(e){return!0===e.isCaught}))?e.map((function(e,t){return e.isCaught?Object(v.jsx)(k,{id:t+1,name:e.name,url:e.url,imgURL:e.imgURL,types:e.types,abilities:e.abilities,weight:e.weight,isCaught:e.isCaught},t+1):null})):Object(v.jsx)("h4",{children:"You have not caught pokemons yet!"})})},_=function(){var e=Object(l.b)(),t=Object(u.g)().id;t=+t;var n=Object(l.c)((function(e){return e.pokemons.pokemons[t-1]}));return Object(v.jsx)(C.b,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"calc(100vh - 64px)"},size:[50,50],children:Object(v.jsxs)(o.a,{hoverable:!0,style:{height:"730px",width:"475px"},cover:Object(v.jsx)("img",{alt:"pokemon",src:n.imgURL}),children:[Object(v.jsxs)("h4",{children:["ID: ",t,", ",n.name]}),Object(v.jsxs)("p",{children:["Abilities: ",n.abilities]}),Object(v.jsxs)("p",{children:["Types: ",n.types]}),Object(v.jsxs)("p",{children:["Weight: ",n.weight]}),Object(v.jsx)("p",{children:n.isCaught?"Was caught on ".concat(n.date):""}),n.isCaught?Object(v.jsx)(s.a,{type:"dashed",onClick:function(n){n.preventDefault(),e(y(t))},children:"Release"}):Object(v.jsx)(s.a,{type:"primary",onClick:function(n){e(x(t)),n.preventDefault()},children:"Catch!"})]})})},T=n(210),I=n(212),D=T.a.Header,L=T.a.Content;var R=function(){return Object(v.jsxs)(T.a,{style:{backgroundColor:"white"},children:[Object(v.jsx)(D,{style:{position:"fixed",zIndex:"10",width:"100%",display:"flex",justifyContent:"center"},children:Object(v.jsxs)(I.a,{theme:"dark",mode:"horizontal",children:[Object(v.jsx)(I.a.Item,{children:Object(v.jsx)(a.b,{to:"/",children:"All pokemons"})},"1"),Object(v.jsx)(I.a.Item,{children:Object(v.jsx)(a.b,{to:"/caughtPokemons",children:"Caught pokemons"})},"2")]})}),Object(v.jsx)(L,{style:{marginTop:"64px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(v.jsxs)(u.c,{children:[Object(v.jsx)(u.a,{exact:!0,path:"/",element:Object(v.jsx)(E,{})}),Object(v.jsx)(u.a,{path:"/caughtPokemons",element:Object(v.jsx)(w,{})}),Object(v.jsx)(u.a,{path:"/info/:id",element:Object(v.jsx)(_,{})})]})})]})},U=n(35),S=n(87),N=n(117),P=n.n(N),A=n(118),H=n(119),z=n(16),X=n(1),G={pokemons:[],cardID:null},M={url:"https://pokeapi.co/api/v2/pokemon?limit=12",fetching:!0},B=Object(U.b)({pokemons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(X.a)(Object(X.a)({},e),{},{pokemons:[].concat(Object(z.a)(e.pokemons),Object(z.a)(t.payload))});case b:return Object(X.a)(Object(X.a)({},e),{},{cardID:t.id});case m:return console.log(typeof t.id),Object(X.a)(Object(X.a)({},e),{},{pokemons:e.pokemons.map((function(e,n){return n+1===t.id?Object.assign({},e,{isCaught:!0,date:t.date}):e}))});case g:return Object(X.a)(Object(X.a)({},e),{},{pokemons:e.pokemons.map((function(e,n){return n+1===t.id?Object.assign({},e,{isCaught:!1,date:t.date}):e}))});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{url:t.url,fetching:!1};case f:return Object(X.a)(Object(X.a)({},e),{},{fetching:!0});default:return e}}}),K={key:"root",storage:P.a},W=Object(S.a)(K,B),F=Object(U.d)(W,Object(U.c)(Object(U.a)(H.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),J=Object(S.b)(F),V=Object(v.jsx)(A.a,{loading:null,persistor:J,children:Object(v.jsx)(l.a,{store:F,children:Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(a.a,{children:Object(v.jsx)(R,{})})})})});Object(r.render)(V,document.getElementById("root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.80af496d.chunk.js.map