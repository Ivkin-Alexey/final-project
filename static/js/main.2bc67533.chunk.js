(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{208:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return Y}));var c=n(0),i=n.n(c),r=n(23),a=n(46),o=n(18),s=n(120),u=n(56),l=n(10),j=n(21),p=n(54),h=n.n(p),d=n(66),b="FETCH_POKEMONS",O="SET_CARD_ID",f="SET_NEXT_PAGE_URL",m="TOGGLE_FETCHING",g="CATCH_POKEMON",x="RELEASE_POKEMON";function y(e){var t=(new Date).toUTCString();return{type:g,id:e,date:t}}function v(e){return{type:x,id:e}}var k=n(8);var C=function(e){var t,n=Object(j.b)(),c=Object(l.f)();return Object(k.jsx)(a.b,{to:"/info/".concat(e.id),onClick:function(){return c("/info/".concat(e.id))},children:Object(k.jsxs)(s.a,{hoverable:!0,style:{width:240,minHeight:"357px"},cover:Object(k.jsx)("img",{alt:"pokemon",src:e.imgURL}),children:[Object(k.jsx)("h4",{children:"ID ".concat(e.id,", ").concat((t=e.name,t.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")))}),Object(k.jsx)("p",{children:e.date?"Was caught on ".concat(e.date):""}),e.isCaught?Object(k.jsx)(u.a,{type:"dashed",onClick:function(t){t.preventDefault(),t.stopPropagation(),n(v(e.id))},children:"Release"}):Object(k.jsx)(u.a,{type:"primary",onClick:function(t){t.preventDefault(),t.stopPropagation(),n(y(e.id))},children:"Catch!"})]})})},E=(n(102),n(123));var w=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.pokemons.pokemons})),n=Object(j.c)((function(e){return e.app.fetching})),i=Object(j.c)((function(e){return e.app.url}));return Object(c.useEffect)((function(){console.log(n,i),n&&e(function(e){return console.log("fetch"),function(){var t=Object(d.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch(e).then((function(e){return e.json()})).then((function(e){var t=e.results.map((function(e){return fetch(e.url).then((function(e){return e.json()})).then((function(t){return{name:(n=t.name,n.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")),url:e.url,imgURL:t.sprites.other["official-artwork"].front_default,types:t.types.map((function(e){return e.type.name})).join(", "),abilities:t.abilities.map((function(e){return e.ability.name})).join(", "),weight:t.weight,isCaught:!1};var n}))}));Promise.all(t).then((function(t){n({type:b,payload:t}),n({type:f,url:e.next})}))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(i))}),[n]),Object(c.useEffect)((function(){var n=function(n){n.target.documentElement.scrollHeight-(n.target.documentElement.scrollTop+window.innerHeight)<100&&t.length<1118&&e({type:m})};return document.addEventListener("scroll",n),function(){document.removeEventListener("scroll",n)}}),[e,t.length]),Object(k.jsx)(E.b,{style:{marginTop:"64px",marginBottom:"64px",display:"flex",justifyContent:"center",alignItems:"center"},size:[50,50],wrap:!0,children:t[0]?t.map((function(e,t){return Object(k.jsx)(C,{name:e.name,imgURL:e.imgURL,isCaught:e.isCaught,date:e.date,id:t+1},t)})):Object(k.jsx)("p",{children:"fdgdfgdfgfdg"})})};var _=function(){var e=Object(j.c)((function(e){return e.pokemons.pokemons}));return Object(k.jsx)(E.b,{style:{marginTop:"64px",marginBottom:"64px",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},size:[50,50],wrap:!0,children:e.find((function(e){return!0===e.isCaught}))?e.map((function(e,t){return e.isCaught?Object(k.jsx)(C,{id:t+1,name:e.name,url:e.url,imgURL:e.imgURL,types:e.types,abilities:e.abilities,weight:e.weight,isCaught:e.isCaught},t+1):null})):Object(k.jsx)("h4",{children:"You have not caught pokemons yet!"})})},T=function(){var e=Object(j.b)(),t=Object(l.g)().id;t=+t;var n=Object(j.c)((function(e){return e.pokemons.pokemons[t-1]}));return Object(k.jsx)(E.b,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"calc(100vh - 64px)"},size:[50,50],children:Object(k.jsxs)(s.a,{hoverable:!0,style:{height:"730px",width:"475px"},cover:Object(k.jsx)("img",{alt:"pokemon",src:n.imgURL}),children:[Object(k.jsxs)("h4",{children:["ID: ",t,", ",n.name]}),Object(k.jsxs)("p",{children:["Abilities: ",n.abilities]}),Object(k.jsxs)("p",{children:["Types: ",n.types]}),Object(k.jsxs)("p",{children:["Weight: ",n.weight]}),Object(k.jsx)("p",{children:n.isCaught?"Was caught on ".concat(n.date):""}),n.isCaught?Object(k.jsx)(u.a,{type:"dashed",onClick:function(n){n.preventDefault(),e(v(t))},children:"Release"}):Object(k.jsx)(u.a,{type:"primary",onClick:function(n){e(y(t)),n.preventDefault()},children:"Catch!"})]})})},I=n(210),D=n(212),L=I.a.Header,R=I.a.Content;var U=function(){return Object(k.jsxs)(I.a,{style:{backgroundColor:"white"},children:[Object(k.jsx)(L,{style:{position:"fixed",zIndex:"10",width:"100%",display:"flex",justifyContent:"center"},children:Object(k.jsxs)(D.a,{theme:"dark",mode:"horizontal",children:[Object(k.jsx)(D.a.Item,{children:Object(k.jsx)(a.b,{to:"/",children:"All pokemons"})},"1"),Object(k.jsx)(D.a.Item,{children:Object(k.jsx)(a.b,{to:"/caughtPokemons",children:"Caught pokemons"})},"2")]})}),Object(k.jsx)(R,{style:{marginTop:"64px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(k.jsxs)(l.c,{children:[Object(k.jsx)(l.a,{exact:!0,path:"/",element:Object(k.jsx)(w,{})}),Object(k.jsx)(l.a,{exact:!0,path:"/caughtPokemons",element:Object(k.jsx)(_,{})}),Object(k.jsx)(l.a,{exact:!0,path:"/info/:id",element:Object(k.jsx)(T,{})})]})})]})},S=n(35),N=n(87),P=n(117),A=n.n(P),H=n(118),z=n(119),X=n(16),G=n(1),M={pokemons:[],cardID:null},B={url:"https://pokeapi.co/api/v2/pokemon?limit=12",fetching:!0},K=Object(S.b)({pokemons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(G.a)(Object(G.a)({},e),{},{pokemons:[].concat(Object(X.a)(e.pokemons),Object(X.a)(t.payload))});case O:return Object(G.a)(Object(G.a)({},e),{},{cardID:t.id});case g:return console.log(typeof t.id),Object(G.a)(Object(G.a)({},e),{},{pokemons:e.pokemons.map((function(e,n){return n+1===t.id?Object.assign({},e,{isCaught:!0,date:t.date}):e}))});case x:return Object(G.a)(Object(G.a)({},e),{},{pokemons:e.pokemons.map((function(e,n){return n+1===t.id?Object.assign({},e,{isCaught:!1,date:t.date}):e}))});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{url:t.url,fetching:!1};case m:return Object(G.a)(Object(G.a)({},e),{},{fetching:!0});default:return e}}}),W={key:"root",storage:A.a},F=Object(N.a)(W,K),J=Object(S.d)(F,Object(S.c)(Object(S.a)(z.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),V=Object(N.b)(J),Y=Object(o.b)({basename:"."}),q=Object(k.jsx)(H.a,{loading:null,persistor:V,children:Object(k.jsx)(j.a,{store:J,children:Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(a.a,{children:Object(k.jsx)(U,{})})})})});Object(r.render)(q,document.getElementById("root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.2bc67533.chunk.js.map